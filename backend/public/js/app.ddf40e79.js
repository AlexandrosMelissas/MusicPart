(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],m=0,d=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02d7":function(t,e,s){"use strict";var n=s("1de8"),i=s.n(n);i.a},"0cc2":function(t,e,s){"use strict";var n=s("6d0a"),i=s.n(n);i.a},"194c":function(t,e,s){},"1bc5":function(t,e,s){},"1d83":function(t,e,s){"use strict";var n=s("b5f2"),i=s.n(n);i.a},"1de8":function(t,e,s){},"1f88":function(t,e,s){"use strict";var n=s("c92e"),i=s.n(n);i.a},"2aa4":function(t,e,s){},"342d":function(t,e,s){"use strict";var n=s("ebfc"),i=s.n(n);i.a},3440:function(t,e,s){t.exports=s.p+"img/favourite.3506125d.svg"},4474:function(t,e,s){t.exports=s.p+"img/musician.b9e6e5fb.jpg"},"4bb1":function(t,e,s){},"4f22":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("d3b7"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("NavbarTransparent"),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navigation",class:["Index"===t.$route.name?"navigation_transparent margin-top-small":"navigation_dark"]},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"navigation_logo",attrs:{src:s("ea27")}})]),n("ul",{staticClass:"navigation_list"},[n("li",{staticClass:"navigation_item navigation_item-tracks"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/tracks"}},[t._v("Tracks")])],1),n("li",{staticClass:"navigation_item navigation_item-musicians"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/users"}},[t._v("Users")])],1),t.isLoggedIn||"Index"!==this.$route.name&&"Login"===this.$route.name?t._e():n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link navigation_link-login",attrs:{to:"/login"}},[t._v("Login")])],1),t.isLoggedIn||"Index"!==this.$route.name?t._e():n("li",{staticClass:"navigation_item navigation_item-register"},[n("router-link",{staticClass:"navigation_link navigation_link-register",attrs:{to:"/register"}},[t._v("Sign up")])],1),t.isLoggedIn||"Login"!==this.$route.name?t._e():n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/register"}},[t._v("Sign up")])],1),t.isLoggedIn?n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/message"}},[t._v("Messages")])],1):t._e(),t.isLoggedIn?n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/profile/"+t.getMyProfile._id}},[t._v("Profile")])],1):t._e(),t.isLoggedIn?n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/upload"}},[t._v("Upload")])],1):t._e(),t.isLoggedIn?n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/logout"}},[t._v("Logout")])],1):t._e()])],1)])},r=[],c={data:function(){return{logo_light:"../assets/images/logo-light.png",logo_dark:"@/assets/images/logo-dark.png"}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},getMyProfile:function(){return this.$store.getters.getMyProfile}},mounted:function(){this.isLoggedIn&&this.$store.dispatch("GET_MY_PROFILE")}},l=c,u=(s("02d7"),s("2877")),m=Object(u["a"])(l,o,r,!1,null,"82673dec",null),d=m.exports,g=s("bc3a"),f=s.n(g),p={data:function(){return{loading:!1}},components:{NavbarTransparent:d}},_=p,v=(s("5c0b"),Object(u["a"])(_,i,a,!1,null,null,null)),h=v.exports,C=(s("b0c0"),s("8c4f")),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register-form"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[t._m(0),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form_input",attrs:{type:"text",id:"username",maxlength:"15",minlength:"5",placeholder:"Username",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"username"}},[t._v("Username")])]),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form_input",attrs:{type:"password",id:"password",minlength:"5",maxlength:"15",placeholder:"Password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"password"}},[t._v("Password")])]),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form_input",attrs:{type:"text",id:"name",minlength:"5",maxlength:"15",placeholder:"Name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"name"}},[t._v("Name")])]),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form_input",attrs:{type:"email",id:"email",placeholder:"Email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"email"}},[t._v("Email")])]),s("div",{staticClass:"form_group"},[s("div",{staticClass:"form_select-container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form_select",attrs:{id:"genre",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",hidden:"",selected:""}},[t._v("Select your type : ")]),s("option",{attrs:{value:"Musician"}},[t._v("Musician")]),s("option",{attrs:{value:"Producer"}},[t._v("Producer")])]),s("ion-icon",{staticClass:"form_select-arrow",attrs:{name:"caret-down-outline"}})],1)]),t._m(1),s("div",{staticClass:"form_group"},[s("router-link",{staticClass:"form_already",attrs:{to:"/login"}},[t._v("Already have an account? Sign in!")])],1)])])},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("h2",{staticClass:"heading_form"},[t._v("Create an account")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form_group"},[s("input",{staticClass:"form_submit",attrs:{type:"submit",value:"Register"}})])}],S=(s("4160"),s("b64b"),s("159b"),{name:"Home",data:function(){return{form:{name:"",username:"",password:"",email:"",type:""}}},methods:{register:function(){var t=this;this.$store.dispatch("REGISTER",this.form).then((function(e){Object.keys(t.form).forEach((function(e){return t.form[e]=""})),t.$router.push("/tracks")}))}}}),P=S,E=(s("7f40"),Object(u["a"])(P,y,b,!1,null,"15795b00",null)),k=E.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t._m(0),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form_input",attrs:{type:"text",placeholder:"Username",id:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"username"}},[t._v("Username")])]),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form_input",attrs:{type:"password",placeholder:"Password",id:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"password"}},[t._v("Password")])]),s("Error"),t._m(1),s("div",{staticClass:"form_group"},[s("router-link",{staticClass:"form_already",attrs:{to:"/register"}},[t._v("Don't have an account? Create one here!")])],1)],1)])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("h2",{staticClass:"heading_form"},[t._v(" Login ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form_group"},[s("input",{staticClass:"form_submit",attrs:{type:"submit",value:"Login"}})])}],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getError?s("div",{staticClass:"error"},[s("p",{staticClass:"error_message"},[t._v(t._s(t.getError))])]):t._e()},M=[],x={computed:{getError:function(){return this.$store.getters.getError}},beforeDestroy:function(){this.$store.commit("setError","")}},T=x,O=Object(u["a"])(T,L,M,!1,null,null,null),I=O.exports,A={data:function(){return{username:"",password:"",error:""}},components:{Error:I},methods:{login:function(){var t=this;this.$store.dispatch("LOGIN",{username:this.username,password:this.password}).then((function(e){t.username="",t.password="",t.$router.push("/tracks")})).catch((function(e){t.error="Invalid credentials.Try again"}))}}},G=A,N=(s("d59a"),Object(u["a"])(G,$,w,!1,null,"6ff8f8e4",null)),D=N.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},R=[],U={beforeMount:function(){var t=this;this.$store.dispatch("LOGOUT").then((function(e){t.$router.push("/login")}))}},q=U,F=Object(u["a"])(q,j,R,!1,null,null,null),B=F.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Loader"),t._l(t.getAllSongs[0],(function(e,i){return n("router-link",{key:i,staticClass:"song",attrs:{to:"/song/"+e._id,tag:"div"}},[n("img",{staticClass:"song_image",attrs:{src:t.$api+"/song/"+e._id+"/image"}}),n("h2",{staticClass:"song_title"},[t._v(t._s(e.title))]),n("h2",{staticClass:"song_genre"},[t._v(t._s(e.genre))]),n("div",{staticClass:"song_likes"},[n("img",{staticClass:"song_likes-icon",attrs:{src:s("3440"),alt:""}}),n("span",{staticClass:"song_likes-number"},[t._v(t._s(e.likes))])])])}))],2)},K=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.getters.getLoading?s("div",{staticClass:"loading_container"},[t._m(0)]):t._e()},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lds-ring"},[s("div"),s("div"),s("div"),s("div")])}],J={},V=J,X=(s("6f79"),Object(u["a"])(V,Y,z,!1,null,"1ac372a4",null)),W=X.exports,Q={components:{Loader:W},computed:{getAllSongs:function(){return this.$store.getters.getAllSongs}},mounted:function(){this.$store.dispatch("GET_MY_PROFILE"),this.$store.dispatch("GET_ALL_SONGS")},beforeDestroy:function(){this.$store.dispatch("EMPTY_ALL_SONGS")}},Z=Q,tt=(s("1f88"),Object(u["a"])(Z,H,K,!1,null,"2d02e242",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile-section"},[s("Loader"),s("div",{staticClass:"profile_container"},[s("div",{staticClass:"profile"},[s("div",{staticClass:"profile_avatar-container"},[s("img",{staticClass:"profile_avatar",attrs:{src:t.$api+"/profile/"+t.getProfile._id+"/avatar"}}),t.$store.getters.isAuthenticated?s("input",{staticClass:"profile_avatar-change",attrs:{id:"avatar-img",type:"file"},on:{change:t.uploadImage}}):t._e(),s("label",{staticClass:"profile_avatar-btn",attrs:{for:"avatar-img"}},[t._v("Change avatar")])]),t.getProfile.owner?s("div",{staticClass:"profile_info"},[t.getProfile.owner?s("p",{staticClass:"profile_info-name"},[t._v(t._s(t.getProfile.owner.name))]):t._e(),t.getProfile.owner?s("p",{staticClass:"profile_info-type"},[t._v(t._s(t.getProfile.owner.type))]):t._e(),s("p",{staticClass:"profile_info-text"},[t._v("Age : "+t._s(t.getProfile.age?t.getProfile.age:"undefined"))]),s("p",{staticClass:"profile_info-text"},[t._v("Location : "+t._s(t.getProfile.city?t.getProfile.city:"undefined"))]),t.getProfile.instruments.length>0?s("p",{staticClass:"profile_info-text"},[t._v("Instruments : "),t._l(t.getProfile.instruments,(function(e,n){return s("span",{key:e._id,staticClass:"instrument"},[t._v(" "+t._s(n+1)+" . "+t._s(e.instrument)+" ")])}))],2):t._e()]):t._e()]),t.$store.getters.isAuthenticated&&t.getProfile._id!=t.getMyProfile._id?s("button",{staticClass:"profile_btn",on:{click:function(e){return t.openModal("send")}}},[t._v("Send Message")]):t.$store.getters.isAuthenticated?s("button",{staticClass:"profile_btn",on:{click:function(e){return t.openModal("edit")}}},[t._v("Edit Profile")]):t._e()]),s("div",{staticClass:"latest_songs"},[s("h2",{staticClass:"profile_title"},[t._v("Latest uploads")]),0!=t.getProfileSongs.length?s("div",{staticClass:"latest_songs-container"},t._l(t.getProfileSongs,(function(e){return s("router-link",{key:e._id,staticClass:"song",attrs:{to:"/song/"+e._id,tag:"div"}},[s("img",{staticClass:"song_image",attrs:{src:t.$api+"/song/"+e._id+"/image"}}),s("h2",{staticClass:"song_title"},[t._v(t._s(e.title))]),s("h2",{staticClass:"song_genre"},[t._v(t._s(e.genre))])])})),1):s("h2",{staticClass:"none"},[t._v("No uploads from this user yet")])]),s("div",{staticClass:"latest_comments"},[s("h2",{staticClass:"profile_title"},[t._v("Latest comments")]),t.getProfile.owner&&0!=t.getProfile.owner.comments?s("div",{staticClass:"latest_comments-container"},t._l(t.getProfile.owner.comments,(function(e){return s("div",{key:e._id,staticClass:"comment"},[s("h2",{staticClass:"comment_title"},[t._v("Commented on "),s("span",{staticClass:"comment_song",attrs:{to:"/song/"+e.song._id}},[t._v(" "+t._s(e.song.title)+" ")]),t._v(" : ")]),s("p",{staticClass:"comment_text"},[t._v(t._s(e.comment))])])})),0):s("h2",{staticClass:"none"},[t._v("No comments from this user yet")])]),s("div",{staticClass:"modal_container",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal("send")}}},[s("div",{staticClass:"modal_box modal_box-edit"},[s("form",{staticClass:"update_profile-form",on:{submit:function(e){return e.preventDefault(),t.updateProfile(e)}}},[s("h2",{staticClass:"update_profile-heading"},[t._v("Edit your profile")]),s("div",{staticClass:"form_group update_profile-group"},[s("label",{staticClass:"update_profile-label",attrs:{for:"age"}},[t._v("Age")]),s("input",{staticClass:"form_input update_profile-input",attrs:{type:"text",id:"age"},domProps:{value:""+t.getProfile.age}})]),s("div",{staticClass:"form_group update_profile-group"},[s("label",{staticClass:"update_profile-label",attrs:{for:"location"}},[t._v("Location")]),s("input",{staticClass:"form_input update_profile-input",attrs:{type:"text",id:"location"},domProps:{value:t.getProfile.city}})]),s("div",{staticClass:"form_group update_profile-group update_profile-group-select"},[s("label",{staticClass:"update_profile-label",attrs:{for:"select"}},[t._v("Instruments")]),s("div",{staticClass:"form_select-container update_profile-select-container"},[s("select",{staticClass:"form_select",attrs:{id:"select"}},t._l(t.getProfile.instruments,(function(e,n){return s("option",{key:n,attrs:{value:""}},[t._v(t._s(e.instrument))])})),0),s("ion-icon",{staticClass:"form_select-arrow",attrs:{name:"caret-down-outline"}})],1),s("button",{staticClass:"update_profile-btn update_profile-btn-red",on:{click:function(e){return e.preventDefault(),t.removeInstrument(e)}}},[t._v("Remove")])]),s("div",{staticClass:"update_profile-group update_profile-group-add"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.instrument,expression:"instrument"}],staticClass:"form_input update_profile-input update_profile-input-add",attrs:{placeholder:"Add an instrument",type:"text",id:"instrument"},domProps:{value:t.instrument},on:{input:function(e){e.target.composing||(t.instrument=e.target.value)}}}),s("button",{staticClass:"update_profile-btn update_profile-btn-gray",on:{click:function(e){return e.preventDefault(),t.addInstrument(e)}}},[t._v("Add")])]),s("button",{staticClass:"update_profile-save update_profile-btn update_profile-btn-gray"},[t._v("Save")]),s("button",{staticClass:"update_profile-save update_profile-btn margin-right-small update_profile-btn-red",on:{click:function(e){return e.preventDefault(),t.closeModal()}}},[t._v("Cancel")])])]),s("div",{staticClass:"modal_box modal_box-send"},[s("div",{staticClass:"recipient_info"},[s("img",{staticClass:"recipient_info-image",attrs:{src:"http://localhost:3000/api/profile/"+t.getProfile._id+"/avatar",alt:""}})]),t.getProfile.owner?s("div",{staticClass:"send_message"},[s("h2",{staticClass:"recipient_name"},[t._v("Send a message to "+t._s(t.getProfile.owner.name))]),s("form",{on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"recipient_message",attrs:{type:"text",placeholder:"Enter your message",required:""},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("button",{staticClass:"send_message-btn"},[t._v("Send")])])]):t._e(),s("ion-icon",{staticClass:"modal_box-close",attrs:{name:"close-outline"},on:{click:function(e){return t.closeModal("send")}}})],1)])],1)},nt=[],it=(s("d81d"),{components:{Loader:W},data:function(){return{message:"",instrument:""}},computed:{getProfile:function(){return this.$store.getters.getProfile},getMyProfile:function(){return this.$store.getters.getMyProfile},getProfileSongs:function(){return this.$store.getters.getProfileSongs},getImage:function(){return this.$store.getters.getImage}},created:function(){var t=this;this.$store.dispatch("GET_PROFILE",this.$route.params.id).then((function(e){t.$store.dispatch("CHECK_IMAGE",e._id)})),this.$store.dispatch("GET_PROFILE_SONGS",this.$route.params.id)},beforeRouteUpdate:function(t,e,s){var n=this;this.$store.dispatch("GET_PROFILE",t.params.id).then((function(t){n.$store.dispatch("CHECK_IMAGE",t._id)})),this.$store.dispatch("GET_PROFILE_SONGS",t.params.id),s()},methods:{uploadImage:function(t){var e=new FormData,s=t.target.files[0];e.append("avatar",s),this.$store.dispatch("UPLOAD_IMAGE",e)},addInstrument:function(){this.$store.commit("addInstrument",this.instrument),this.instrument=""},removeInstrument:function(){var t=document.querySelector(".form_select");this.$store.commit("removeInstrument",t.options[t.selectedIndex].text)},openModal:function(t){var e=document.querySelector(".modal_container");if("send"==t){var s=document.querySelector(".modal_box-send");e.style.display="flex",s.style.display="flex"}else{var n=document.querySelector(".modal_box-edit");e.style.display="flex",n.style.display="flex"}},closeModal:function(t){var e=document.querySelector(".modal_container");"send"==t?(e.style.display="none",document.querySelector(".modal_box-send").style.display="none"):(e.style.display="none",document.querySelector(".modal_box-edit").style.display="none")},sendMessage:function(){var t=this;this.$store.dispatch("SEND_MESSAGE",{message:this.message,recipient:this.$store.getters.getProfile.owner._id}).then((function(e){console.log(e),t.$router.push("/message/conversation/"+e.conversation)}))},updateProfile:function(){var t=this,e=this.getProfile.instruments.map((function(t){return delete t._id,t}));this.$store.commit("setProfile",{city:document.querySelector("#location").value,age:document.querySelector("#age").value}),this.$store.dispatch("UPDATE_PROFILE",{city:this.getProfile.city,instruments:e,age:this.getProfile.age}).then((function(e){t.closeModal()}))}}}),at=it,ot=(s("cf1b"),Object(u["a"])(at,st,nt,!1,null,"ff781888",null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"upload"},[s("Loader"),s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.upload(e)}}},[t._m(0),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form_input",attrs:{type:"text",minlength:"5",maxlength:"30",id:"title",placeholder:"Title",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"title"}},[t._v("Title")])]),s("div",{staticClass:"form_group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form_input",attrs:{type:"text",minlength:"10",maxlength:"100",id:"description",placeholder:"Description",required:""},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),s("label",{staticClass:"form_label",attrs:{for:"description"}},[t._v("Description")])]),s("div",{staticClass:"form_group"},[s("div",{staticClass:"form_select-container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.genre,expression:"form.genre"}],staticClass:"form_select",attrs:{id:"genre",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"genre",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",hidden:"",selected:""}},[t._v("Select genre : ")]),s("option",{attrs:{value:"Rock"}},[t._v("Rock")]),s("option",{attrs:{value:"Pop"}},[t._v("Pop")]),s("option",{attrs:{value:"Metal"}},[t._v("Metal")]),s("option",{attrs:{value:"Indie"}},[t._v("Indie")]),s("option",{attrs:{value:"Alternative"}},[t._v("Alternative")]),s("option",{attrs:{value:"Blues"}},[t._v("Blues")]),s("option",{attrs:{value:"Folk"}},[t._v("Folk")]),s("option",{attrs:{value:"Reggae"}},[t._v("Reggae")]),s("option",{attrs:{value:"Classic"}},[t._v("Classic")])]),s("ion-icon",{staticClass:"form_select-arrow",attrs:{name:"caret-down-outline"}})],1)]),s("input",{staticClass:"form_file",attrs:{type:"file",id:"file"},on:{change:t.getFile}}),s("label",{staticClass:"form_file-label",attrs:{for:"file"}},[t._v("Press to select your track")]),t.file?s("label",{staticClass:"form_file-name"},[t._v(t._s(this.file.name))]):t._e(),s("Error",{staticClass:"margin-top-small"}),s("input",{staticClass:"form_submit margin-top-small",attrs:{type:"submit",value:"Upload Track"}})],1)],1)},lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("h2",{staticClass:"heading_form"},[t._v("Upload a track")])])}],ut=(s("a4d3"),s("e01a"),{components:{Error:I,Loader:W},data:function(){return{form:{title:"",description:"",genre:""},file:""}},methods:{getFile:function(t){this.file=t.target.files[0]},upload:function(){var t=this;if(""!=this.file){var e=new FormData;e.append("song",JSON.stringify(this.form)),e.append("upload",this.file),this.$store.dispatch("UPLOAD",e).then((function(e){t.form.title="",t.form.description="",t.form.genre="",document.querySelector(".form_select").selected="Select genre : ",t.file="",t.$router.push("/tracks")})).catch((function(e){t.$store.commit("setError",e.response.data.error)}))}else{var s="Please select a track";this.$store.commit("setError",s)}}}}),mt=ut,dt=(s("7e95"),Object(u["a"])(mt,ct,lt,!1,null,"e90fc0dc",null)),gt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"section",staticClass:"song-section"},[n("Loader"),t.getSong.owner?n("div",{staticClass:"song"},[t.getSong.owner?n("div",{staticClass:"song_container"},[n("div",{staticClass:"song_info"},[n("h1",{staticClass:"song_info-author"},[t._v(t._s(t.getSong.owner.name))]),n("h1",{staticClass:"song_info-title"},[t._v(t._s(t.getSong.title)+" ")]),n("h1",{staticClass:"song_info-genre"},[t._v(t._s(t.getSong.genre)+" ")])]),n("div",{staticClass:"song_playback"},[n("app-player")],1),n("div",{staticClass:"edit_song"},[t.isLoggedIn?n("img",{staticClass:"edit_song-like",class:{liked:t.getLiked},attrs:{src:s("3440"),alt:"",srcset:""},on:{click:function(e){return e.preventDefault(),t.likeUnlikeSong(e)}}}):n("h2",{staticStyle:{"font-size":"2rem",color:"#333"}},[t._v("Sign in to like")]),n("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"",id:"image"},on:{change:t.changeImage}}),t.isLoggedIn&&t.getSong.owner&&t.getMyProfile.owner&&t.getSong.owner._id==t.getMyProfile.owner._id?n("label",{staticClass:"edit_song-image",attrs:{for:"image"}},[t._v("Change image")]):t._e(),t.isLoggedIn&&t.getSong.owner&&t.getMyProfile.owner&&t.getSong.owner._id==t.getMyProfile.owner._id?n("button",{staticClass:"edit_song-delete",on:{click:t.deleteTrack}},[t._v("Delete track")]):t._e()])]):t._e(),t.getSong.owner.profile?n("div",{staticClass:"author_container"},[n("img",{staticClass:"author_image",attrs:{src:t.$api+"/profile/"+t.getSong.owner.profile[0]._id+"/avatar"}}),n("div",{staticClass:"author_description-container"},[n("h2",{staticClass:"author_heading"},[t._v("Description")]),n("p",{staticClass:"author_description"},[t._v(t._s(t.getSong.description))])])]):t._e(),n("app-comment")],1):t._e()],1)},pt=[],_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"section",staticClass:"comment_section"},[s("h2",{staticClass:"comment_section-heading"},[t._v("Comments")]),t.isLoggedIn?s("div",{staticClass:"insert_comment"},[s("img",{staticClass:"insert_comment-img",attrs:{src:t.$api+"/profile/"+t.getMyProfile._id+"/avatar"}}),s("form",{staticClass:"insert_comment-form",on:{submit:function(e){return e.preventDefault(),t.insertComment(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"insert_comment-input",attrs:{type:"text",id:"input",placeholder:"Insert your comment"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),s("button",{staticClass:"insert_comment-btn"},[t._v("Create")])])]):s("h2",{staticClass:"none"},[t._v("Log in to comment!")]),s("div",{staticClass:"comments"},[0!=t.getComments.length?s("Loader"):t._e(),t._l(t.getComments,(function(e){return s("div",{key:e._id,staticClass:"comment"},[s("img",{staticClass:"comment_img",attrs:{src:t.$api+"/profile/"+e.owner.profile[0]._id+"/avatar"}}),s("div",{staticClass:"comment_content"},[s("div",{staticClass:"comment_info"},[s("h2",{staticClass:"comment_author"},[t._v(t._s(e.owner.name))]),s("h2",{staticClass:"comment_date"},[t._v(t._s(e.createdAt))])]),s("p",{staticClass:"comment_text"},[t._v(t._s(e.comment))]),t.isLoggedIn&&e.owner._id===t.getMyProfile.owner._id?s("button",{staticClass:"comment_delete",on:{click:function(s){return t.deleteComment(e._id)}}},[t._v("Delete")]):t._e()])])}))],2),0!=t.getComments.length?s("Pagination",{staticStyle:{"margin-top":"4rem"}}):t._e()],1)},vt=[],ht=(s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pagination_row"},[s("button",{staticClass:"pagination_button",attrs:{disabled:0==t.getSkip},on:{click:t.getPrevious}},[t._v("Previous")]),t._l(t.getTotalPages,(function(e,n){return s("span",{key:n},[s("button",{class:["pagination_button",t.getCurrentPage==n+1?"active":""],on:{click:function(e){return t.getPage(n+1)}}},[t._v(t._s(n+1))])])})),s("button",{staticClass:"pagination_button",attrs:{disabled:t.getCurrentPage>=t.getTotalPages},on:{click:t.getNext}},[t._v("Next")])],2)}),Ct=[],yt=(s("a9e3"),{computed:{getTotalPages:function(){return this.$store.getters.getTotalPages},getSkip:function(){return this.$store.getters.getSkip},getCurrentPage:function(){return this.$store.getters.getCurrentPage}},methods:{getPage:function(t){this.$store.commit("setCurrentPage",t),this.$router.push({path:this.$route.path,query:{page:t}});var e=9*t-9;this.$store.commit("setSkip",e),this.$store.dispatch("GET_COMMENTS",this.$route.params.id)},getNext:function(){this.$store.commit("setCurrentPage",this.getCurrentPage+1),this.$router.push({path:this.$route.path,query:{page:Number(this.getCurrentPage)}}),console.log(this.getCurrentPage),this.$store.commit("setSkip",this.$store.getters.getSkip+9),this.$store.dispatch("GET_COMMENTS",this.$route.params.id)},getPrevious:function(){this.$store.commit("setCurrentPage",this.getCurrentPage-1),this.$router.push({path:this.$route.path,query:{page:Number(this.getCurrentPage)}}),this.$store.commit("setSkip",this.$store.getters.getSkip-9),this.$store.dispatch("GET_COMMENTS",this.$route.params.id)}},created:function(){this.$store.commit("setCurrentPage",this.$route.query.page||1),this.$store.commit("setSkip",9*Number(this.$route.query.page)-9||0)}}),bt=yt,St=(s("5eaf"),Object(u["a"])(bt,ht,Ct,!1,null,null,null)),Pt=St.exports,Et={data:function(){return{comment:""}},components:{Pagination:Pt,Loader:W},computed:{getComments:function(){return this.$store.getters.getComments},getMyProfile:function(){return this.$store.getters.getMyProfile},isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{insertComment:function(){var t=this;this.$store.dispatch("INSERT_COMMENT",{id:this.$route.params.id,comment:this.comment,createdAt:(new Date).toLocaleString("en-GB").replace(",","")}).then((function(e){t.$store.dispatch("GET_COMMENTS",t.$route.params.id)})),this.comment=""},deleteComment:function(t){var e=this;confirm("Are you sure?")&&this.$store.dispatch("DELETE_COMMENT",{song:this.$route.params.id,comment:t}).then((function(t){e.$store.dispatch("GET_COMMENTS",e.$route.params.id)}))}},mounted:function(){this.$store.dispatch("GET_COMMENTS",this.$route.params.id)},beforeDestroy:function(){this.$store.commit("deleteComments")},onUpdate:function(){this.$store.commit("deleteComments")}},kt=Et,$t=(s("bfd6"),Object(u["a"])(kt,_t,vt,!1,null,"58fe992a",null)),wt=$t.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"player-background",attrs:{src:"http://localhost:3000/api/song/"+t.$route.params.id+"/image",alt:""}}),s("div",{staticClass:"player-buttons"},[s("div",{staticClass:"player-play player-button",attrs:{"data-source":"http://localhost:3000/api/song/"+t.$route.params.id+"/songFile"},on:{"!click":function(e){return t.playSong(e)}}},[s("ion-icon",{staticClass:"player-icon",attrs:{name:"play"}})],1),s("div",{staticClass:"player-stop player-button",on:{"!click":function(e){return t.stopSong(e)}}},[s("ion-icon",{staticClass:"player-icon",attrs:{name:"stop"}})],1),s("div",{staticClass:"player-volume player-button"},[s("ion-icon",{staticClass:"player-icon",attrs:{name:"volume-high"},on:{click:t.muteUnmuteSong}}),s("div",{staticClass:"volume_container"},[s("div",{staticClass:"volume_slider-con",on:{mousedown:t.mouseClicked}},[t._m(0)])])],1)]),s("div",{staticClass:"player-time"}),s("h2",{staticClass:"player-duration"},[t._v(t._s(this.minutesCurrent+":"+this.secondsCurrent+"/"+this.minutesDuration+":"+this.secondsDuration))])])},Mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"volume_slider"},[s("div",{staticClass:"volume_knob"})])}],xt=(s("b680"),{data:function(){return{song:new Audio,mouseDown:!1,muted:!1,minutesDuration:"00",secondsDuration:"00",minutesCurrent:"00",secondsCurrent:"00"}},computed:{getSong:function(){return this.$store.getters.getSong}},methods:{playSong:function(t){this.song.addEventListener("timeupdate",this.adjustTime);var e=document.querySelector(".player-icon"),s=document.querySelector(".player-button"),n=e.name;if(""==this.song.src)if(t.target==s){var i=t.target.getAttribute("data-source");this.song.src=i}else{var a=t.target.parentElement.getAttribute("data-source");this.song.src=a}"play"===n?(this.song.play(),e.name="pause"):(this.song.pause(),e.name="play")},stopSong:function(){this.song.pause(),this.song.currentTime=0,document.querySelector(".player-icon").name="play"},muteUnmuteSong:function(t){var e=document.querySelector(".volume_slider");0==this.muted?(t.target.name="volume-mute",this.song.volume=0,this.muted=!0,e.style.width=0):(t.target.name="volume-high",this.song.volume=.5,this.muted=!1,e.style.width="50%")},adjustTime:function(){var t=this.song.currentTime/this.song.duration;document.querySelector(".player-time").style.width="".concat(100*t+"%"),this.minutesDuration=Math.floor(this.song.duration/60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),this.secondsDuration=(this.song.duration.toFixed(0)%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),this.minutesCurrent=Math.floor(this.song.currentTime/60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),this.secondsCurrent=(this.song.currentTime.toFixed(0)%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},mouseClicked:function(t){this.mouseDown=!0,this.updateBar(t.clientX)},updateBar:function(t){var e,s=document.querySelector(".volume_slider-con"),n=document.querySelector(".volume_slider"),i=s.getBoundingClientRect(),a=i.left+document.body.scrollLeft,o=t-a;e=100*o/s.clientWidth,e>100&&(e=100),e<0&&(e=0),n.style.width=e+"%",this.song.volume=e/100}},created:function(){var t=this,e=function(){t.mouseDown=!1},s=function(e){t.mouseDown&&t.updateBar(e.clientX)};document.addEventListener("mouseup",e),document.addEventListener("mousemove",s)},beforeDestroy:function(){this.song.pause(),this.song.currentTime=0,this.$store.commit("removeSongOne"),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mouseup",this.mouseMove)}}),Tt=xt,Ot=(s("cd50"),Object(u["a"])(Tt,Lt,Mt,!1,null,"7948bc5a",null)),It=Ot.exports,At={components:{appComment:wt,appPlayer:It,Loader:W},computed:{getSong:function(){return this.$store.getters.getSong},getLiked:function(){return this.$store.getters.getLiked},getImage:function(){return this.$store.getters.getImage},isLoggedIn:function(){return this.$store.getters.isAuthenticated},getMyProfile:function(){return this.$store.getters.getMyProfile}},methods:{likeUnlikeSong:function(){this.getLiked?this.$store.dispatch("UNLIKE_SONG",this.$route.params.id):this.$store.dispatch("LIKE_SONG",this.$route.params.id)},deleteTrack:function(){var t=this;confirm("Are you sure?")&&this.$store.dispatch("DELETE_SONG",this.$route.params.id).then((function(e){t.$router.push("/home")}))},changeImage:function(t){var e=new FormData;e.append("upload",t.target.files[0]),this.$store.dispatch("UPLOAD_SONG_IMAGE",{id:this.$route.params.id,image:e})}},created:function(){this.$store.dispatch("GET_SONG",this.$route.params.id),this.$store.dispatch("CHECK_LIKE",this.$route.params.id)},onUpdate:function(){this.scroll()}},Gt=At,Nt=(s("92c5"),Object(u["a"])(Gt,ft,pt,!1,null,"0ae435e6",null)),Dt=Nt.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-section"},[s("div",{staticClass:"conversations"},[t.getMyProfile.owner?s("div",t._l(t.getConversations,(function(e){return s("router-link",{key:e._id,staticClass:"conversation",attrs:{active:"",tag:"div",to:"/message/conversation/"+e._id}},[s("img",{staticClass:"conversation_img",attrs:{src:t.getMyProfile._id===e.sender.profile[0]._id?t.$api+"/profile/"+e.recipient.profile[0]._id+"/avatar":"http://localhost:3000/api/profile/"+e.sender.profile[0]._id+"/avatar"}}),s("h2",{staticClass:"conversation_name"},[t._v(t._s(t.getMyProfile._id===e.sender.profile[0]._id?e.recipient.name:e.sender.profile[0].name))])])})),1):t._e()]),s("div",{staticClass:"messages"},["Message"===t.$route.name&&0!=t.getConversations.length?s("h2",{staticClass:"messages_heading"},[t._v("Click on a user to open a conversation")]):"Message"===t.$route.name?s("h2",{staticClass:"messages_heading"},[t._v("Go to someone's profile and send a message!")]):t._e(),s("router-view",{staticStyle:{height:"100%"}})],1)])},Rt=[],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"convo",staticClass:"conversation"},[t.getMessages?s("div",{staticClass:"messages"},t._l(t.getMessages,(function(e){return s("div",{key:e._id},[s("div",{staticClass:"message",class:e.recipient==t.getMyProfile.owner._id?"not-my_message":"my_message"},[e.sender?s("div",{staticClass:"message_info"},[e.sender.profile?s("p",{staticClass:"message_sender"},[t._v(t._s(e.sender.name))]):t._e(),s("p",{staticClass:"message_date"},[t._v(t._s(e.createdAt))])]):t._e(),s("p",[t._v(t._s(e.message))]),e.file?s("ion-icon",{staticStyle:{cursor:"pointer","margin-top":"1rem","font-size":"2.5rem"},attrs:{"data-source":"http://localhost:3000/api/message/"+e._id+"/file",name:"play"},on:{click:t.playPauseSong}}):t._e()],1)])})),0):t._e()]),s("div",{staticClass:"send_message-container"},[s("form",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"send_message-input",attrs:{type:"text",placeholder:"Send a message"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("button",{staticClass:"send_message-btn send_message-btn-gray",on:{click:function(e){return e.preventDefault(),t.sendMessage(e)}}},[t._v("Send Message")]),s("input",{staticClass:"send_message-file",attrs:{id:"file",type:"file"},on:{change:t.sendTrack}}),s("label",{staticClass:"send_message-btn send_message-btn-red",attrs:{for:"file"}},[t._v("Send Track")]),s("button",{staticClass:"send_message-btn send_message-btn-blue",on:{click:function(e){return e.preventDefault(),t.refresh(e)}}},[t._v("Refresh")])])])])},qt=[],Ft={data:function(){return{message:"",file:"",audio:new Audio}},computed:{getMessages:function(){return this.$store.getters.getMessages},getConversation:function(){return this.$store.getters.getConversation},getMyProfile:function(){return this.$store.getters.getMyProfile},to:function(){return this.getMyProfile.owner._id===this.getConversation.sender?this.getConversation.recipient:this.getConversation.sender}},methods:{sendMessage:function(){var t=this;this.$store.dispatch("SEND_MESSAGE",{message:this.message,recipient:this.to}).then((function(e){t.message="",t.scrollToEnd()}))},scrollToEnd:function(){var t=this.$refs.convo;t.scrollTop=t.scrollHeight},sendTrack:function(){var t=this;this.file=event.target.files[0],console.log(this.file);var e=new FormData,s={message:this.file.name,recipient:this.to};e.append("message",JSON.stringify(s)),e.append("upload",this.file),this.$store.dispatch("SEND_FILE",e).then((function(e){t.scrollToEnd()}))},playPauseSong:function(t){if(""==this.audio.src){var e=t.target.getAttribute("data-source");this.audio.src=e}else if(this.audio.src!=t.target.getAttribute("data-source")){var s=t.target.getAttribute("data-source");this.audio.src=s}"Play"==t.target.name?(this.audio.play(),t.target.name="Pause"):(this.audio.pause(),t.target.name="Play")},refresh:function(){var t=this;this.$store.dispatch("GET_MESSAGES",this.$route.params.id).then((function(e){t.scrollToEnd()}))}},created:function(){var t=this;this.$store.dispatch("GET_MESSAGES",this.$route.params.id).then((function(e){t.$store.dispatch("GET_MY_PROFILE"),t.$store.dispatch("GET_CONVERSATION",t.$route.params.id).then((function(e){t.scrollToEnd()}))}))},beforeRouteUpdate:function(t,e,s){this.$store.dispatch("GET_MESSAGES",t.params.id),s()}},Bt=Ft,Ht=(s("9080"),Object(u["a"])(Bt,Ut,qt,!1,null,"109b2b1c",null)),Kt=Ht.exports,Yt={computed:{getConversations:function(){return this.$store.getters.getConversations},getMyProfile:function(){return this.$store.getters.getMyProfile}},created:function(){this.$store.dispatch("GET_MY_PROFILE"),this.$store.dispatch("GET_CONVERSATIONS")}},zt=Yt,Jt=(s("da25"),Object(u["a"])(zt,jt,Rt,!1,null,"5e11b29b",null)),Vt=Jt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Search"),0!=t.getProfiles.length?s("div",{staticClass:"profiles-section"},[t.getProfiles[0].owner?s("Loader"):t._e(),t._l(t.getProfiles,(function(e){return s("router-link",{key:e._id,attrs:{to:"profile/"+e._id,tag:"div"}},[null!=e.owner?s("div",{staticClass:"profile"},[s("img",{staticClass:"profile_avatar",attrs:{src:t.$api+"/profile/"+e._id+"/avatar",alt:""}}),e.owner?s("h1",{staticClass:"profile_name"},[t._v(t._s(e.owner.name))]):t._e(),e.owner?s("p",{staticClass:"profile_type"},[t._v(t._s(e.owner.type))]):t._e()]):t._e()])}))],2):t._e()],1)},Wt=[],Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search_container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"search_input",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:t.name},on:{keyup:t.search,input:function(e){e.target.composing||(t.name=e.target.value)}}})])},Zt=[],te={data:function(){return{name:""}},methods:{search:function(){this.$store.dispatch("GET_PROFILES",this.name)}}},ee=te,se=(s("1d83"),Object(u["a"])(ee,Qt,Zt,!1,null,"107d2806",null)),ne=se.exports,ie={components:{Search:ne,Loader:W},computed:{getProfiles:function(){return this.$store.getters.getProfiles}},created:function(){this.$store.dispatch("GET_PROFILES")}},ae=ie,oe=(s("8cc0"),Object(u["a"])(ae,Xt,Wt,!1,null,"e0b64954",null)),re=oe.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("div",{staticClass:"index-section"},[s("div",{staticClass:"heading"},[s("h2",{staticClass:"heading_primary margin-bottom-medium"},[t._v("MusicPart")]),s("h5",{staticClass:"heading_secondary"},[t._v("Share your passion.Share your music.")]),s("router-link",{staticClass:"btn-primary btn_animated",attrs:{to:"/login"}},[t._v("Get Started")])],1)]),s("TopSongs"),s("UploadSection"),s("ConnectSection"),s("Footer")],1)},le=[],ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"top_songs"},[s("h2",{staticClass:"heading_section"},[t._v("Most popular tracks")]),t.top_songs?s("div",{staticClass:"songs"},t._l(t.top_songs,(function(e){return s("router-link",{key:e._id,staticClass:"song",attrs:{to:"/song/"+e._id,tag:"div"}},[s("img",{staticClass:"song_image",attrs:{src:"http://localhost:3000/api/song/"+e._id+"/image"}}),s("h2",{staticClass:"song_title"},[t._v(t._s(e.title))]),s("h2",{staticClass:"song_genre"},[t._v(t._s(e.genre))])])})),1):t._e(),s("router-link",{staticClass:"songs_btn",attrs:{to:"/home"}},[t._v("Check more tracks")])],1)])},me=[],de={data:function(){return{top_songs:[]}},computed:{setSongs:function(t){this.top_songs=t}},created:function(){var t=this;f.a.get("/songs/top").then((function(e){e.status;var s=e.data;t.top_songs=s}))}},ge=de,fe=(s("d9a5"),Object(u["a"])(ge,ue,me,!1,null,"7eacf42a",null)),pe=fe.exports,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-section"},[n("div",{staticClass:"section section_producer"},[n("div",{staticClass:"section_heading"},[n("h2",{staticClass:"section_heading-title section_producer-title"},[t._v("Are you a producer?")]),n("p",{staticClass:"section_heading-text  section_producer-text"},[t._v(" Have you ever felt that all you want to do is to produce songs but you haven't met many musicians? Grab the chance and explore the top musicians of the world with the help of MusicPart. Listen to their tracks. If you happen to love an artist, feel free to send him a message. ")]),n("router-link",{staticClass:"section_btn section_producer-btn",attrs:{to:"/profiles"}},[t._v("Discover musicians")])],1),n("img",{staticClass:"section_image",attrs:{src:s("69a3"),alt:""}})]),n("div",{staticClass:"section section_musician"},[n("img",{staticClass:"section_image",attrs:{src:s("4474"),alt:""}}),n("div",{staticClass:"section_heading section_musician_heading"},[n("h2",{staticClass:"section_heading-title section_musician-title"},[t._v("Are you a musician?")]),n("p",{staticClass:"section_heading-text section_musician-text"},[t._v(" Listen to other people's tracks. Maybe you will get inspired. If you are not in the mood of listening to tracks, make your own and upload it in MusicPart. Thousand of people are going to be able to listen to it and give you their opinion. Everyone has the right to share their music. Do it now! ")]),n("router-link",{staticClass:"section_btn section_musician-btn",attrs:{to:"/upload"}},[t._v("Upload songs")])],1)])])},ve=[],he={},Ce=he,ye=(s("0cc2"),Object(u["a"])(Ce,_e,ve,!1,null,"5262a1f6",null)),be=ye.exports,Se=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connect-section"},[n("h2",{staticClass:"heading_section"},[t._v("Connect with people")]),n("div",{staticClass:"container"},[n("div",{staticClass:"triangle-1"},[n("div",{staticClass:"triangle-1_heading"},[n("h2",{staticClass:"triangle-1_title"},[t._v("Send messages")]),n("p",{staticClass:"triangle-1_text"},[t._v(" Contact with other musicians with MusicPart's messages section. Liked a track or a musician's or producer's profile? Feel free to send him a message. Share your ideas. Get his ideas. ")])])]),n("img",{staticStyle:{width:"100%",height:"100%","object-fit":"cover","grid-area":"image-red"},attrs:{src:s("cdde"),alt:""}}),n("img",{staticStyle:{width:"100%",height:"100%","object-fit":"cover","grid-area":"image-gray"},attrs:{src:s("f4d7"),alt:""}}),n("div",{staticClass:"triangle-2"},[n("div",{staticClass:"triangle-2_heading"},[n("h2",{staticClass:"triangle-2_title"},[t._v("Share tracks")]),n("p",{staticClass:"triangle-2_text"},[t._v(" Share your music whenever you want. Do you want to see if your track is good enough? Send your track to other musicians or producers so that they tell you their opinion about it. ")])])])])])}],Ee={},ke=Ee,$e=(s("e543"),Object(u["a"])(ke,Se,Pe,!1,null,"14a65609",null)),we=$e.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"footer_logo",attrs:{src:s("59da"),alt:""}})]),n("div",{staticClass:"container"},[n("ul",{staticClass:"navigation"},[n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/"}},[t._v("Index")])],1),n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/tracks"}},[t._v("Tracks")])],1),n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/users"}},[t._v("Users")])],1),n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/upload"}},[t._v("Upload")])],1),n("li",{staticClass:"navigation_item"},[n("router-link",{staticClass:"navigation_link",attrs:{to:"/messages"}},[t._v("Messages")])],1)]),t._m(0)])],1)},Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-container"},[s("p",{staticClass:"footer_text"},[t._v(" Designed,created and deployed by "),s("a",{attrs:{href:"https://github.com/AlexandrosMelissas"}},[t._v("Alex Melissas")]),t._v(" "),s("br"),t._v(" Copyright Â© 2020 All rights reserved. "),s("br")])])}],xe={},Te=xe,Oe=(s("342d"),Object(u["a"])(Te,Le,Me,!1,null,"5adf03dd",null)),Ie=Oe.exports,Ae={components:{TopSongs:pe,UploadSection:be,ConnectSection:we,Footer:Ie,Loader:W}},Ge=Ae,Ne=(s("a16c"),Object(u["a"])(Ge,ce,le,!1,null,"1f264ddd",null)),De=Ne.exports,je=s("2f62"),Re={state:{token:localStorage.getItem("user-token")||"",status:"",error:""},getters:{getError:function(t){return t.error},isAuthenticated:function(t){return""!==t.token}},mutations:{setToken:function(t,e){t.token=e},setError:function(t,e){t.error=e}},actions:{REGISTER:function(t,e){var s=t.commit;return f.a.post("/register",e).then((function(t){var e=t.data,n=t.status;201===n&&(localStorage.setItem("user-token",e.token),f.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token),s("setToken",e.token))})).catch((function(t){s("setError",t.response.data.error)}))},LOGIN:function(t,e){var s=t.commit;return new Promise((function(t,n){f.a.post("/login",e).then((function(e){var n=e.data,i=e.status;if(200===i){var a=n.token;localStorage.setItem("user-token",a),f.a.defaults.headers.common["Authorization"]="Bearer ".concat(a),s("setToken",a),t(n)}})).catch((function(t){s("setError",t.response.data.error)}))}))},LOGOUT:function(t){var e=t.commit,s=t.dispatch;return new Promise((function(t,n){f.a.post("/logout").then((function(n){var i=n.data,a=n.status;200===a&&(localStorage.removeItem("user-token"),e("setToken",""),delete f.a.defaults.headers.common["Authorization"],s("clearAll",null,{root:!0}),t(i))})).catch((function(t){}))}))}}},Ue=Re,qe=(s("a434"),{state:{my_profile:"",profile:"",profiles:[],image:!1},getters:{getMyProfile:function(t){return t.my_profile},getProfile:function(t){return t.profile},getProfiles:function(t){return t.profiles},getImage:function(t){return t.image}},mutations:{setMyProfile:function(t,e){t.my_profile=e},setProfile:function(t,e){t.profile=e},setImage:function(t,e){t.image=e},addInstrument:function(t,e){t.profile.instruments.push({instrument:e})},removeInstrument:function(t,e){for(var s=t.profile.instruments,n=0;n<s.length;n++)s[n].instrument==e&&s.splice(n,1)},setProfiles:function(t,e){t.profiles=e},reset:function(t){t.profile="",t.image=!1}},actions:{GET_MY_PROFILE:function(t){var e=t.commit,s=t.getters;if(s.isAuthenticated)return new Promise((function(t,s){f.a.get("/profile/me").then((function(t){var s=t.data,n=t.status;200===n&&e("setMyProfile",s)}))})).then((function(t){resolve(t)}))},GET_PROFILE:function(t,e){var s=t.commit;return f.a.get("/profile/".concat(e)).then((function(t){var e=t.data,n=t.status;if(200===n)return s("setProfile",e),e}))},GET_PROFILES:function(t,e){var s=t.commit;e?f.a.get("/profile?name=".concat(e)).then((function(t){var e=t.data,n=t.status;200===n&&s("setProfiles",e)})):f.a.get("/profile").then((function(t){var e=t.data,n=t.status;200===n&&s("setProfiles",e)}))},UPLOAD_IMAGE:function(t,e){var s=t.commit;f.a.post("/profile/avatar",e,{headers:{"Content-Type":"form-data"}}).then((function(t){var e=t.status;200===e&&s("setImage",!0)}))},CHECK_IMAGE:function(t,e){var s=t.commit;return new Promise((function(t,n){f.a.get("/profile/".concat(e,"/avatar")).then((function(t){var e=t.status;200===e&&s("setImage",!0)}))})).then((function(t){resolve()}))},UPDATE_PROFILE:function(t,e){var s=t.commit;return f.a.patch("/profile",e).then((function(t){var e=t.status,n=t.data;200===e&&(console.log(n),s("setProfile",n))}))}}}),Fe=qe,Be={state:{song:{},profile_songs:[],songs:"",my_songs:[],liked:!1},getters:{getSong:function(t){return t.song},getAllSongs:function(t){return t.songs},getProfileSongs:function(t){return t.profile_songs},getLiked:function(t){return t.liked},getMySongs:function(t){return t.my_songs}},mutations:{setSongOne:function(t,e){t.song=e},removeSongOne:function(t){t.song=null},setAllSongs:function(t,e){t.songs=e},setProfileSongs:function(t,e){t.profile_songs=e},emptyAllSongs:function(t){t.songs=[]},deleteSong:function(t,e){t.song={}},setLike:function(t,e){t.liked=e},setMySongs:function(t,e){e.forEach((function(e){t.my_songs.push(e)}))},reset:function(t){t.song={},t.songs=[],t.my_songs=[],t.liked=!1}},actions:{UPLOAD:function(t,e){t.commit;return f.a.post("/song",e).catch((function(t){throw t}))},GET_SONG:function(t,e){var s=t.commit;return f.a.get("/song/".concat(e)).then((function(t){var e=t.data,n=t.status;200===n&&s("setSongOne",e)}))},GET_MY_SONGS:function(t){var e=t.commit,s=t.getters;if(0==s.getMySongs.length)return new Promise((function(t,s){f.a.get("/song/me").then((function(s){var n=s.data,i=s.status;200===i&&(e("setMySongs",n),t())})).catch((function(t){s(t)}))}))},DELETE_SONG:function(t,e){var s=t.commit;return f.a.delete("/song/".concat(e)).then((function(t){var e=t.data,n=t.status;200===n&&s("deleteSong",e)}))},GET_PROFILE_SONGS:function(t,e){var s=t.commit;f.a.get("/song/profile/".concat(e)).then((function(t){var e=t.data,n=t.status;200===n&&s("setProfileSongs",e)}))},GET_ALL_SONGS:function(t){var e=t.commit,s=[];return new Promise((function(t,n){f.a.get("/song").then((function(n){var i=n.data,a=n.status;200===a&&(s.push(i),e("setAllSongs",s),t())})).catch((function(t){n(t)}))}))},EMPTY_ALL_SONGS:function(t){var e=t.commit;e("emptyAllSongs")},LIKE_SONG:function(t,e){var s=t.commit;return new Promise((function(t,n){f.a.post("/song/".concat(e,"/like")).then((function(e){var n=e.status;200===n&&(s("setLike",!0),t())})).catch((function(t){n(t)}))}))},UNLIKE_SONG:function(t,e){var s=t.commit;return new Promise((function(t,n){f.a.post("/song/".concat(e,"/unlike")).then((function(e){var n=e.status;200===n&&(s("setLike",!1),t())})).catch((function(t){n(t)}))}))},CHECK_LIKE:function(t,e){var s=t.commit,n=t.getters;if(n.isAuthenticated)return new Promise((function(t,n){f.a.get("/song/".concat(e,"/check_like")).then((function(e){var n=e.status,i=e.data;200===n&&(s("setLike",i.liked),t())})).catch((function(t){n(t)}))}))},UPLOAD_SONG_IMAGE:function(t,e){t.commit;f.a.post("/song/".concat(e.id,"/image"),e.image,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){}))}}},He=Be,Ke=(s("99af"),s("96cf"),s("1da1")),Ye={state:{comments:[]},getters:{getComments:function(t){return t.comments}},mutations:{setComments:function(t,e){e.forEach((function(e){e.createdAt=new Date(e.createdAt).toLocaleString("en-GB",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),t.comments.push(e)}))},deleteComments:function(t){t.comments=[]},insertComment:function(t,e){e.createdAt=new Date(e.createdAt).toLocaleString("en-GB",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),t.comments.unshift(e)},deleteComment:function(t,e){t.comments.forEach((function(s,n){s._id==e&&t.comments.splice(n,1)}))},reset:function(t){t.comments=[]}},actions:{GET_COMMENTS:function(t,e){var s=t.commit,n=t.getters;n.comments!==[]&&s("deleteComments"),f.a.get("/song/".concat(e,"/comment?limit=9&skip=").concat(n.getSkip)).then(function(){var t=Object(Ke["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.status,i=e.data,200===n&&(s("setTotalPages",i.totalPages),s("setComments",i.comments));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},INSERT_COMMENT:function(t,e){var s=t.commit;return f.a.post("/song/".concat(e.id,"/comment"),{comment:e.comment,createdAt:e.createdAt}).then((function(t){var e=t.status,n=t.data;201===e&&s("insertComment",n)}))},DELETE_COMMENT:function(t,e){var s=t.commit;return f.a.delete("/song/".concat(e.song,"/comment/").concat(e.comment)).then((function(t){var e=t.status,n=t.data;200===e&&s("deleteComment",n._id)}))}}},ze=Ye,Je={state:{messages:[]},getters:{getMessages:function(t){return t.messages}},mutations:{setMessage:function(t,e){e.createdAt=new Date(e.createdAt).toLocaleString("en-GB",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),t.messages.push(e)},setMessages:function(t,e){t.messages=e,t.messages.forEach((function(t){t.createdAt=new Date(t.createdAt).toLocaleString("en-GB",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})}))}},actions:{SEND_MESSAGE:function(t,e){var s=t.commit;return f.a.post("/message",e).then((function(t){var e=t.status,n=t.data;if(200===e)return s("setMessage",n),n}))},SEND_FILE:function(t,e){var s=t.commit;return f.a.post("/message/file",e).then((function(t){var e=t.status,n=t.data;200===e&&s("setMessage",n)}))},GET_MESSAGES:function(t,e){var s=t.commit;return f.a.get("/message/conversation/".concat(e)).then((function(t){var e=t.status,n=t.data;200===e&&s("setMessages",n)}))}}},Ve=Je,Xe={state:{conversation:"",conversations:[]},getters:{getConversation:function(t){return t.conversation},getConversations:function(t){return t.conversations}},mutations:{setConversation:function(t,e){t.conversation=e},setConversations:function(t,e){t.conversations=e},addToConversations:function(t,e){t.conversations.push(e)}},actions:{GET_CONVERSATIONS:function(t,e){var s=t.commit;return f.a.get("/conversation").then((function(t){var e=t.status,n=t.data;200===e&&s("setConversations",n)}))},GET_CONVERSATION:function(t,e){var s=t.commit;return f.a.get("/conversation/".concat(e)).then((function(t){var e=t.data,n=t.status;200===n&&s("setConversation",e)}))}}},We=Xe,Qe={state:{skip:0,totalPages:null,currentPage:1},getters:{getSkip:function(t){return t.skip},getTotalPages:function(t){return t.totalPages},getCurrentPage:function(t){return t.currentPage}},mutations:{setTotalPages:function(t,e){t.totalPages=e},setSkip:function(t,e){t.skip=e},setCurrentPage:function(t,e){t.currentPage=e}},actions:{}},Ze=Qe;n["a"].use(je["a"]);var ts=new je["a"].Store({state:{loading:!1},getters:{getLoading:function(t){return t.loading}},mutations:{setLoading:function(t,e){t.loading=e}},actions:{clearAll:function(t){var e=t.commit;e("reset")}},modules:{auth:Ue,profile:Fe,song:He,comment:ze,message:Ve,conversation:We,pagination:Ze}});n["a"].use(C["a"]);var es=[{path:"/",name:"Index",component:De},{path:"/tracks",name:"Home",component:et},{path:"/register",name:"Register",component:k},{path:"/login",name:"Login",component:D},{path:"/profile/:id",name:"Profile",component:rt},{path:"/users",name:"Profiles",component:re},{path:"/song/:id",name:"Song",component:Dt},{path:"/upload",name:"Upload",component:gt},{path:"/logout",name:"Logout",component:B},{path:"/message",name:"Message",component:Vt,children:[{path:"conversation/:id",component:Kt}]}],ss=new C["a"]({mode:"history",base:"/",routes:es});ss.beforeEach((function(t,e,s){"Login"===t.name||"Register"===t.name||"Index"===t.name||"Song"===t.name||"Home"===t.name||"Profiles"===t.name||"Profile"===t.name||ts.getters.isAuthenticated?s():s({name:"Login"})})),ss.beforeEach((function(t,e,s){return ts.getters.isAuthenticated&&"Login"===t.name||ts.getters.isAuthenticated&&"Register"===t.name?s({name:"Home"}):void s()}));var ns=ss,is=localStorage.getItem("user-token");is&&(f.a.defaults.headers.common["Authorization"]="Bearer ".concat(is)),f.a.defaults.baseURL="https://music-part.herokuapp.com/api",f.a.interceptors.request.use((function(t){return ts.commit("setLoading",!0),t}),(function(t){return ts.commit("setLoading",!1),Promise.reject(t)})),f.a.interceptors.response.use((function(t){return setTimeout((function(){ts.commit("setLoading",!1)}),2e3),t}),(function(t){return ts.commit("setLoading",!1),Promise.reject(t)})),n["a"].config.ignoredElements=[/^ion-/],n["a"].config.productionTip=!1,n["a"].prototype.$api="https://music-part.herokuapp.com/api",new n["a"]({router:ns,store:ts,render:function(t){return t(h)}}).$mount("#app")},"59da":function(t,e,s){t.exports=s.p+"img/logo-dark.cda3ed06.png"},"5c0b":function(t,e,s){"use strict";var n=s("9c0c"),i=s.n(n);i.a},"5eaf":function(t,e,s){"use strict";var n=s("2aa4"),i=s.n(n);i.a},"5f4a":function(t,e,s){},6075:function(t,e,s){},"69a3":function(t,e,s){t.exports=s.p+"img/producer1.5cf975a5.jpg"},"6d0a":function(t,e,s){},"6f79":function(t,e,s){"use strict";var n=s("194c"),i=s.n(n);i.a},7561:function(t,e,s){},"7e95":function(t,e,s){"use strict";var n=s("cc97"),i=s.n(n);i.a},"7f40":function(t,e,s){"use strict";var n=s("e217"),i=s.n(n);i.a},"8cc0":function(t,e,s){"use strict";var n=s("e6e2"),i=s.n(n);i.a},9080:function(t,e,s){"use strict";var n=s("4bb1"),i=s.n(n);i.a},"92c5":function(t,e,s){"use strict";var n=s("7561"),i=s.n(n);i.a},"9c0c":function(t,e,s){},a16c:function(t,e,s){"use strict";var n=s("f323"),i=s.n(n);i.a},b5f2:function(t,e,s){},bb3d:function(t,e,s){},bfd6:function(t,e,s){"use strict";var n=s("5f4a"),i=s.n(n);i.a},c92e:function(t,e,s){},cc97:function(t,e,s){},cd50:function(t,e,s){"use strict";var n=s("6075"),i=s.n(n);i.a},cdde:function(t,e,s){t.exports=s.p+"img/send-message.3bb527eb.jpg"},cf1b:function(t,e,s){"use strict";var n=s("1bc5"),i=s.n(n);i.a},d59a:function(t,e,s){"use strict";var n=s("bb3d"),i=s.n(n);i.a},d9a5:function(t,e,s){"use strict";var n=s("f8ce"),i=s.n(n);i.a},da25:function(t,e,s){"use strict";var n=s("f8aa"),i=s.n(n);i.a},e217:function(t,e,s){},e543:function(t,e,s){"use strict";var n=s("4f22"),i=s.n(n);i.a},e6e2:function(t,e,s){},ea27:function(t,e,s){t.exports=s.p+"img/logo-light.092d2af0.png"},ebfc:function(t,e,s){},f323:function(t,e,s){},f4d7:function(t,e,s){t.exports=s.p+"img/share-songs.3994ba9c.jpg"},f8aa:function(t,e,s){},f8ce:function(t,e,s){}});
//# sourceMappingURL=app.ddf40e79.js.map